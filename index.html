<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8" />
<title>SmartRosterï½œæ™ºæ…§ç­è¡¨ç°½æ ¸ç³»çµ±</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root {
  --primary:#374151;
  --accent:#059669;
  --bg:#eef2f0;           /* æ·¡æ·¡èƒŒæ™¯ */
  --card:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --border:#e5e7eb;
  --ok:#059669;
  --warn:#b45309;
  --bad:#b91c1c;
}

body{
  font-family:-apple-system,BlinkMacSystemFont,"Noto Sans TC",sans-serif;
  background:var(--bg);
  margin:0;
  padding:32px;
}

.container{max-width:1200px;margin:auto;}

header{margin-bottom:32px;}
header h1{margin:0;font-size:30px;}
header p{margin-top:6px;color:var(--muted);}

.card{
  background:var(--card);
  border-radius:16px;
  padding:28px;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
  margin-bottom:32px;
}

.form-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px 20px;
}

label{font-size:13px;color:var(--muted);margin-bottom:4px;display:block;}
input{
  width:100%;
  padding:10px;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:14px;
}

.upload-box{
  margin-top:16px;
  border:2px dashed var(--border);
  border-radius:14px;
  padding:24px;
  text-align:center;
  background:#fafafa;
}

.actions{
  display:flex;
  gap:16px;
  margin-top:24px;
}

button{
  padding:14px 20px;
  border-radius:12px;
  border:none;
  font-size:15px;
  cursor:pointer;
}

button.primary{background:var(--primary);color:#fff;}
button.accent{background:var(--accent);color:#fff;}
button:disabled{opacity:.5;cursor:not-allowed;}

.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  display:none;
  align-items:center;
  justify-content:center;
}

.modal-box{
  background:#fff;
  border-radius:16px;
  padding:28px;
  width:440px;
}

.status-ok{color:var(--ok);}
.status-warn{color:var(--warn);}
.status-bad{color:var(--bad);}
</style>
</head>

<body>
<div class="container">

<header>
  <h1>SmartRoster</h1>
  <p>æ™ºæ…§ç­è¡¨ç°½æ ¸ç³»çµ±</p>
</header>

<!-- ===== å»ºç«‹æ–°ä»»å‹™ ===== -->
<div class="card">
  <h3>ğŸ“Œ å»ºç«‹æ–°ç°½æ ¸ä»»å‹™</h3>

  <div class="form-grid">
    <div>
      <label>ä»»å‹™å»ºç«‹è€…</label>
      <input id="creator">
    </div>

    <div>
      <label>å“¡å·¥ç·¨è™Ÿ</label>
      <input id="staffId">
    </div>

    <div>
      <label>å–®ä½åˆ¥</label>
      <input id="unit">
    </div>

    <div>
      <label>ç°½æ ¸æœˆä»½</label>
      <input id="month" type="month">
    </div>

    <div>
      <label>è¨­å®šå¯†ç¢¼ï¼ˆè‡³å°‘ 6 ç¢¼ï¼‰</label>
      <input id="password" type="password">
    </div>
  </div>

  <div class="upload-box">
    <strong>ğŸ“„ ä¸Šå‚³ç­è¡¨ Excel</strong>
    <p style="color:var(--muted)">ç”¨æ–¼è¾¨è­˜å¾…ç°½æ ¸äººæ•¸</p>
    <input type="file">
  </div>

  <div class="actions">
    <button class="accent" onclick="runCheck()">ğŸ” æŸ¥æ ¸ä»»å‹™è¾¨è­˜</button>
    <button id="createBtn" class="primary" disabled>å»ºç«‹ç°½æ ¸ä»»å‹™</button>
  </div>
</div>

</div>

<!-- ===== æŸ¥æ ¸ Modal ===== -->
<div class="modal" id="modal">
  <div class="modal-box">
    <h3>ğŸ” ä»»å‹™è¾¨è­˜çµæœ</h3>
    <div id="checkContent"></div>
    <br>
    <button class="primary" onclick="confirmCreate()">ç¢ºèª</button>
  </div>
</div>

<script>
const createBtn = document.getElementById("createBtn");

function validateForm(){
  const now = new Date();
  const m = document.getElementById("month").value;
  const monthOK = m && new Date(m+"-01") >= new Date(now.getFullYear(), now.getMonth(),1);
  const ok =
    creator.value &&
    staffId.value &&
    unit.value &&
    monthOK &&
    password.value.length >= 6;
  createBtn.disabled = !ok;
}

["creator","staffId","unit","month","password"].forEach(id=>{
  document.getElementById(id).addEventListener("input",validateForm);
});

function runCheck(){
  const modal = document.getElementById("modal");
  const content = document.getElementById("checkContent");

  // === Demo è™›æ“¬çµæœ ===
  const status = ["ok","warn","bad"][Math.floor(Math.random()*3)];

  if(status==="ok"){
    content.innerHTML = `
      <div class="status-ok">âœ” æŸ¥æ ¸é€šé</div>
      å¾…ç°½æ ¸äººæ•¸ï¼š32 äºº
    `;
    createBtn.disabled = false;
  }

  if(status==="warn"){
    content.innerHTML = `
      <div class="status-warn">âš  ç™¼ç¾ç•°å¸¸ï¼ˆå¯å»ºç«‹ï¼‰</div>
      å¾…ç°½æ ¸äººæ•¸ï¼š32 äºº<br>
      â€¢ å“¡ç·¨é‡è¤‡ï¼šA123ã€A128<br>
      â€¢ å§“åç©ºç™½ï¼šç¬¬ 12 åˆ—
    `;
    createBtn.disabled = false;
  }

  if(status==="bad"){
    content.innerHTML = `
      <div class="status-bad">âŒ æŸ¥æ ¸å¤±æ•—</div>
      ç„¡æ³•è¾¨è­˜å¾…ç°½æ ¸åå–®ï¼Œè«‹é‡æ–°ä¸Šå‚³
    `;
    createBtn.disabled = true;
  }

  modal.style.display="flex";
}

function confirmCreate(){
  createBtn.textContent="è™•ç†ä¸­â€¦";
  createBtn.disabled=true;
  setTimeout(()=>{
    createBtn.textContent="å·²å»ºç«‹";
    alert("ï¼ˆDemoï¼‰ä»»å‹™å»ºç«‹å®Œæˆ");
    document.getElementById("modal").style.display="none";
  },1200);
}
</script>

</body>
</html>
